(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return K}));var i=n("tyNb"),a=n("fXoL");let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-sidenav"]],decls:15,vars:0,consts:[[1,"sidenav-container","uk-card","uk-card-default","uk-card-body","uk-width-1-2@s"],["uk-nav","",1,"top-nav","uk-nav-default","uk-nav-parent-icon"],["routerLinkActive","uk-active"],["routerLink","/dashboard/add-product"],["routerLink","/dashboard/manage-products"],[1,"uk-nav-divider",2,"margin","20px 0"],["routerLink","/dashboard/add-banner"],["routerLink","/dashboard/manage-banners"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Nb(1,"ul",1),a.Nb(2,"li",2),a.Nb(3,"a",3),a.kc(4,"Add Product"),a.Mb(),a.Mb(),a.Nb(5,"li",2),a.Nb(6,"a",4),a.kc(7,"Manage Products"),a.Mb(),a.Mb(),a.Lb(8,"li",5),a.Nb(9,"li",2),a.Nb(10,"a",6),a.kc(11,"Add Banner"),a.Mb(),a.Mb(),a.Nb(12,"li",2),a.Nb(13,"a",7),a.kc(14,"Manage Banners"),a.Mb(),a.Mb(),a.Mb(),a.Mb())},directives:[i.d,i.e],styles:[".sidenav-container[_ngcontent-%COMP%]{width:15vw;height:100%;background-color:#fff}"]}),e})(),o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"dashboard-container","uk-margin-large-top"],[1,"desktop"],[1,"dashboard-body-container"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Lb(1,"app-sidenav",1),a.Nb(2,"div",2),a.Lb(3,"router-outlet"),a.Mb(),a.Mb())},directives:[r,i.g],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:calc(100vh - 80px)}.dashboard-body-container[_ngcontent-%COMP%]{flex-grow:1;padding:40px;max-height:calc(100vh - 80px);overflow:auto}.desktop[_ngcontent-%COMP%]{display:block}@media only screen and (max-width:640px){.desktop[_ngcontent-%COMP%]{display:none}}"]}),e})(),c=(()=>{class e{constructor(e){this.router=e}canActivate(e,t){return!!localStorage.getItem("currentUser")||(this.router.navigate(["/admin"],{queryParams:{returnUrl:t.url}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(i.c))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("mrSG"),s=n("3Pt+"),u=n("bE4C"),l=n("DD2m"),b=n("mB2O"),p=n("ofXK");function g(e,t){1&e&&a.Yb(0,0,["*ngIf","!loading"])}function h(e,t){1&e&&a.Lb(0,"img",3)}const m=["*"];let f=(()=>{class e{constructor(){this.pressed=new a.n}ngOnInit(){}onClick(){this.pressed.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-button"]],inputs:{type:"type",disabled:"disabled",loading:"loading"},outputs:{pressed:"pressed"},ngContentSelectors:m,decls:3,vars:6,consts:[[3,"disabled","click"],[4,"ngIf"],["class","creating-loader","src","./assets/images/loading.svg","alt","",4,"ngIf"],["src","./assets/images/loading.svg","alt","",1,"creating-loader"]],template:function(e,t){1&e&&(a.Zb(),a.Nb(0,"button",0),a.Vb("click",(function(){return t.onClick()})),a.jc(1,g,1,0,void 0,1),a.jc(2,h,1,0,"img",2),a.Mb()),2&e&&(a.Bb("uk-button uk-button-",t.type," uk-width-1-1 uk-margin-small"),a.ac("disabled",t.disabled||t.loading),a.zb(1),a.ac("ngIf",!t.loading),a.zb(1),a.ac("ngIf",t.loading))},directives:[p.j],styles:[".creating-loader[_ngcontent-%COMP%]{width:30px}"]}),e})();function k(e,t){if(1&e&&a.Lb(0,"img",5),2&e){const e=a.Xb();a.bc("src",null==e.product?null:e.product.imageUrl,a.hc),a.bc("alt",null==e.product?null:e.product.name)}}function v(e,t){1&e&&a.Lb(0,"img",6)}function M(e,t){1&e&&a.Lb(0,"img",7)}function y(e,t){if(1&e&&(a.Nb(0,"div",8),a.Nb(1,"div",9),a.Nb(2,"h3"),a.kc(3),a.Mb(),a.Mb(),a.Mb()),2&e){const e=a.Xb();a.zb(3),a.lc(null==e.product?null:e.product.name)}}let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-preview-image"]],inputs:{product:"product",loading:"loading"},decls:5,vars:4,consts:[[1,"product","uk-card","uk-card-default","uk-card-body"],["class","image",3,"src","alt",4,"ngIf"],["class","image","src","./assets/images/noImageAvailable.png","alt","No image available",4,"ngIf"],["class","loading-image image","src","./assets/images/loading.svg","alt","Loading image",4,"ngIf"],["class","information",4,"ngIf"],[1,"image",3,"src","alt"],["src","./assets/images/noImageAvailable.png","alt","No image available",1,"image"],["src","./assets/images/loading.svg","alt","Loading image",1,"loading-image","image"],[1,"information"],[1,"name"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.jc(1,k,1,2,"img",1),a.jc(2,v,1,0,"img",2),a.jc(3,M,1,0,"img",3),a.jc(4,y,4,1,"div",4),a.Mb()),2&e&&(a.zb(1),a.ac("ngIf",null==t.product?null:t.product.imageUrl),a.zb(1),a.ac("ngIf",!(null!=t.product&&t.product.imageUrl)),a.zb(1),a.ac("ngIf",t.loading),a.zb(1),a.ac("ngIf",null==t.product?null:t.product.name))},directives:[p.j],styles:[".product[_ngcontent-%COMP%]{padding:0;position:relative;display:flex;justify-content:center;overflow:hidden;align-items:flex-start}.product[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.information[_ngcontent-%COMP%]{position:absolute;bottom:5%;left:0;background:#acacac;padding:4px 15px 4px 30px;color:#fff;margin:0;font:14px Sans-Serif}.name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:chunkfive,serif;font-size:1.4rem;font-weight:600;margin:0 0 4px}.loading-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px}"]}),e})();const N=function(e,t){return{name:e,imageUrl:t}};let P=(()=>{class e{constructor(e,t){this.fb=e,this.productService=t,this.loading=!1,this.creating=!1,this.isFeatured=!1,this.addProductForm=e.group({name:new s.c(null,[s.k.required])})}ngOnInit(){}checkboxChanged(){this.isFeatured=!this.isFeatured}readUrl(e){this.loading=!0,setTimeout(()=>{if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{this.photo=e.target.result},t.readAsDataURL(e.target.files[0])}this.loading=!1},500)}createProduct(){return Object(d.a)(this,void 0,void 0,(function*(){this.creating=!0;const e=this.addProductForm.value.name,t=this.photo.toString(),n=new u.a(e,t,this.isFeatured);yield this.productService.createProduct(n).then(()=>{l.a.notify('<span uk-icon="icon: check"></span> Product created successfully',"success"),this.resetForm()}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Product could not be created',"danger")}),this.creating=!1}))}resetForm(){document.getElementById("form").reset(),this.photo=null,this.isFeatured=!1}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.b),a.Kb(b.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-product"]],decls:22,vars:10,consts:[[1,"add-product-container"],["uk-grid","",1,"uk-grid","uk-grid-large"],[1,"new-product-container","uk-width-1-2@s"],["id","form",1,"add-product-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin","uk-flex","uk-flex-between"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file","id","fileInput",3,"change"],["type","text","placeholder","Select image","disabled","",1,"uk-input"],["type","checkbox",1,"uk-checkbox","featured-checkbox",3,"checked","change"],[3,"type","disabled","loading","pressed"],[1,"preview-product-container","uk-width-1-2@s"],[3,"product","loading"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Nb(3,"h3"),a.kc(4,"Add new product"),a.Mb(),a.Nb(5,"form",3),a.Nb(6,"div",4),a.Lb(7,"input",5),a.Mb(),a.Nb(8,"div",6),a.Nb(9,"div",7),a.Nb(10,"input",8),a.Vb("change",(function(e){return t.readUrl(e)})),a.Mb(),a.Lb(11,"input",9),a.Mb(),a.Nb(12,"div"),a.Nb(13,"label"),a.kc(14," Featured "),a.Nb(15,"input",10),a.Vb("change",(function(){return t.checkboxChanged()})),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(16,"app-button",11),a.Vb("pressed",(function(){return t.createProduct()})),a.kc(17," Create "),a.Mb(),a.Mb(),a.Mb(),a.Nb(18,"div",12),a.Nb(19,"h3"),a.kc(20,"Preview"),a.Mb(),a.Lb(21,"app-preview-image",13),a.Mb(),a.Mb(),a.Mb()),2&e&&(a.zb(5),a.ac("formGroup",t.addProductForm),a.zb(10),a.ac("checked",t.isFeatured),a.zb(1),a.ac("type","primary")("disabled",t.addProductForm.invalid||!t.photo)("loading",t.creating),a.zb(5),a.ac("product",a.dc(7,N,t.addProductForm.value.name,t.photo))("loading",t.loading))},directives:[s.l,s.h,s.e,s.a,s.g,s.d,f,w],styles:[".featured-checkbox[_ngcontent-%COMP%]{width:40px;height:40px}"]}),e})();function x(e,t){1&e&&a.Lb(0,"span",22)}function F(e,t){if(1&e){const e=a.Ob();a.Nb(0,"li",19),a.Vb("click",(function(){a.gc(e);const n=t.$implicit;return a.Xb().selectProduct(n)})),a.kc(1),a.jc(2,x,1,0,"span",20),a.Lb(3,"span",21),a.Mb()}if(2&e){const e=t.$implicit;a.zb(1),a.mc(" ",e.name," "),a.zb(1),a.ac("ngIf",e.featured)}}function B(e,t){if(1&e){const e=a.Ob();a.Nb(0,"app-button",23),a.Vb("pressed",(function(){return a.gc(e),a.Xb().editProduct()})),a.kc(1," Update "),a.Mb()}if(2&e){const e=a.Xb();a.ac("type","primary")("disabled",e.editProductForm.invalid||!e.selectedProduct)}}function O(e,t){if(1&e){const e=a.Ob();a.Nb(0,"app-button",23),a.Vb("pressed",(function(){return a.gc(e),a.Xb().deleteProduct()})),a.kc(1," Delete "),a.Mb()}if(2&e){const e=a.Xb();a.ac("type","danger")("disabled",!e.selectedProduct)}}function I(e,t){if(1&e&&a.Lb(0,"app-button",24),2&e){const e=a.Xb();a.ac("loading",e.updating)}}const C=function(e,t){return{name:e,imageUrl:t}};let L=(()=>{class e{constructor(e,t){this.fb=e,this.productService=t,this.products=[],this.loading=!1,this.updating=!1,this.editProductForm=e.group({name:new s.c(null,[s.k.required])})}ngOnInit(){this.productService.getAllProducts().then(e=>this.products=e),this.editProductForm.disable()}selectProduct(e){this.selectedProduct=e,this.editProductForm.patchValue({name:e.name}),this.photo=e.imageUrl,this.editProductForm.enable()}readUrl(e){this.loading=!0,setTimeout(()=>{if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{this.photo=e.target.result},t.readAsDataURL(e.target.files[0])}this.loading=!1},500)}editProduct(){return Object(d.a)(this,void 0,void 0,(function*(){this.updating=!0,this.selectedProduct.name=this.editProductForm.value.name,this.selectedProduct.imageUrl!==this.photo&&(this.selectedProduct.imageUrl=this.photo.toString()),yield this.productService.editProduct(this.selectedProduct).then(()=>{this.resetForm(),l.a.notify('<span uk-icon="icon: check"></span> Product edited successfully',"success")}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Product could not be edited',"danger")}),this.updating=!1}))}deleteProduct(){return Object(d.a)(this,void 0,void 0,(function*(){this.updating=!0,yield this.productService.deleteProduct(this.selectedProduct._id).then(e=>{l.a.notify('<span uk-icon="icon: check"></span> Product deleted successfully',"success"),this.products=this.products.filter(t=>t._id!==e),this.resetForm()}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Product could not be deleted',"danger")}),this.updating=!1}))}resetForm(){document.getElementById("form").reset(),this.selectedProduct=void 0,this.photo=null,this.editProductForm.disable()}checkboxChanged(){this.selectedProduct.featured=!this.selectedProduct.featured}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.b),a.Kb(b.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-manage-products"]],decls:29,vars:14,consts:[["uk-grid","",1,"manage-product-container","uk-grid","uk-grid-medium"],["uk-grid","",1,"uk-width-3-5@m","uk-grid","uk-grid-medium"],[1,"list-product-container","uk-width-1-3@s"],[1,"uk-list","uk-list-striped"],["class","product-item",3,"click",4,"ngFor","ngForOf"],[1,"edit-product-container","uk-width-2-3@s"],["id","form",1,"add-product-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin","uk-flex","uk-flex-between"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"disabled","change"],["type","text","placeholder","Edit image",1,"uk-input",3,"disabled"],["type","checkbox",1,"uk-checkbox","featured-checkbox",3,"checked","disabled","change"],[1,"uk-flex","uk-flex-center","uk-margin-small","uk-child-width-1-2"],[3,"type","disabled","pressed",4,"ngIf"],[3,"loading",4,"ngIf"],[1,"preview-product-container","uk-width-2-5@m"],[3,"product","loading"],[1,"product-item",3,"click"],["uk-icon","icon: star; ratio: 0.7",4,"ngIf"],["uk-icon","icon: pencil",1,"uk-align-right","edit-product"],["uk-icon","icon: star; ratio: 0.7"],[3,"type","disabled","pressed"],[3,"loading"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Nb(3,"h3"),a.kc(4,"Products"),a.Mb(),a.Nb(5,"ul",3),a.jc(6,F,4,2,"li",4),a.Mb(),a.Mb(),a.Nb(7,"div",5),a.Nb(8,"h3"),a.kc(9,"Edit"),a.Mb(),a.Nb(10,"form",6),a.Nb(11,"div",7),a.Lb(12,"input",8),a.Mb(),a.Nb(13,"div",9),a.Nb(14,"div",10),a.Nb(15,"input",11),a.Vb("change",(function(e){return t.readUrl(e)})),a.Mb(),a.Lb(16,"input",12),a.Mb(),a.Nb(17,"div"),a.Nb(18,"label"),a.kc(19," Featured "),a.Nb(20,"input",13),a.Vb("change",(function(){return t.checkboxChanged()})),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(21,"div",14),a.jc(22,B,2,2,"app-button",15),a.jc(23,O,2,2,"app-button",15),a.jc(24,I,1,1,"app-button",16),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(25,"div",17),a.Nb(26,"h3"),a.kc(27,"Preview"),a.Mb(),a.Lb(28,"app-preview-image",18),a.Mb(),a.Mb()),2&e&&(a.zb(6),a.ac("ngForOf",t.products),a.zb(4),a.ac("formGroup",t.editProductForm),a.zb(5),a.ac("disabled",!t.selectedProduct),a.zb(1),a.ac("disabled",!t.selectedProduct),a.zb(4),a.ac("checked",null==t.selectedProduct?null:t.selectedProduct.featured)("disabled",!t.selectedProduct),a.zb(2),a.ac("ngIf",!t.updating),a.zb(1),a.ac("ngIf",!t.updating),a.zb(1),a.ac("ngIf",t.updating),a.zb(4),a.ac("product",a.dc(11,C,t.editProductForm.value.name,t.photo))("loading",t.loading))},directives:[p.i,s.l,s.h,s.e,s.a,s.g,s.d,p.j,w,f],styles:[".product-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d7d7d7}.edit-product[_ngcontent-%COMP%]:hover{color:#1e87f0;cursor:pointer}.featured-checkbox[_ngcontent-%COMP%]{width:40px;height:40px}"]}),e})();var z=n("xC8M"),j=n("BvJE");const U=function(e){return{name:"",imageUrl:e}};function _(e,t){if(1&e){const e=a.Ob();a.Nb(0,"li",18),a.Vb("click",(function(){a.gc(e);const n=t.$implicit;return a.Xb().selectBanner(n)})),a.kc(1),a.Lb(2,"span",19),a.Mb()}if(2&e){const e=t.$implicit;a.zb(1),a.mc(" ",e.name," ")}}function S(e,t){if(1&e){const e=a.Ob();a.Nb(0,"app-button",20),a.Vb("pressed",(function(){return a.gc(e),a.Xb().editBanner()})),a.kc(1," Update "),a.Mb()}if(2&e){const e=a.Xb();a.ac("type","primary")("disabled",e.editBannerForm.invalid||!e.selectedBanner)}}function E(e,t){if(1&e){const e=a.Ob();a.Nb(0,"app-button",20),a.Vb("pressed",(function(){return a.gc(e),a.Xb().deleteBanner()})),a.kc(1," Delete "),a.Mb()}if(2&e){const e=a.Xb();a.ac("type","danger")("disabled",!e.selectedBanner)}}function V(e,t){if(1&e&&a.Lb(0,"app-button",21),2&e){const e=a.Xb();a.ac("loading",e.updating)}}const A=function(e){return{name:"",imageUrl:e}},X=[{path:"",component:o,canActivate:[c],children:[{path:"",redirectTo:"add-product",pathMatch:"full"},{path:"add-product",component:P},{path:"manage-products",component:L},{path:"add-banner",component:(()=>{class e{constructor(e,t){this.fb=e,this.bannerService=t,this.loading=!1,this.creating=!1,this.addBannerForm=e.group({name:new s.c(null,[s.k.required])})}ngOnInit(){}readUrl(e){this.loading=!0,setTimeout(()=>{if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{this.photo=e.target.result},t.readAsDataURL(e.target.files[0])}this.loading=!1},500)}createBanner(){return Object(d.a)(this,void 0,void 0,(function*(){this.creating=!0;const e=this.addBannerForm.value.name,t=this.photo.toString(),n=new z.a(e,t);yield this.bannerService.createBanner(n).then(()=>{l.a.notify('<span uk-icon="icon: check"></span> Banner created successfully',"success"),this.resetForm()}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Banner could not be created',"danger")}),this.creating=!1}))}resetForm(){document.getElementById("form").reset(),this.photo=null}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.b),a.Kb(j.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-banner"]],decls:18,vars:8,consts:[[1,"add-banner-container"],["uk-grid","",1,"uk-grid","uk-grid-large"],[1,"new-banner-container","uk-width-1-2@s"],["id","form",1,"add-banner-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"change"],["type","text","placeholder","Select image","disabled","",1,"uk-input"],[3,"type","disabled","loading","pressed"],[1,"preview-banner-container","uk-width-1-2@s"],[3,"product","loading"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Nb(3,"h3"),a.kc(4,"Add new banner"),a.Mb(),a.Nb(5,"form",3),a.Nb(6,"div",4),a.Lb(7,"input",5),a.Mb(),a.Nb(8,"div",6),a.Nb(9,"div",7),a.Nb(10,"input",8),a.Vb("change",(function(e){return t.readUrl(e)})),a.Mb(),a.Lb(11,"input",9),a.Mb(),a.Mb(),a.Nb(12,"app-button",10),a.Vb("pressed",(function(){return t.createBanner()})),a.kc(13," Create "),a.Mb(),a.Mb(),a.Mb(),a.Nb(14,"div",11),a.Nb(15,"h3"),a.kc(16,"Preview"),a.Mb(),a.Lb(17,"app-preview-image",12),a.Mb(),a.Mb(),a.Mb()),2&e&&(a.zb(5),a.ac("formGroup",t.addBannerForm),a.zb(7),a.ac("type","primary")("disabled",t.addBannerForm.invalid||!t.photo)("loading",t.creating),a.zb(5),a.ac("product",a.cc(6,U,t.photo))("loading",t.loading))},directives:[s.l,s.h,s.e,s.a,s.g,s.d,f,w],styles:[""]}),e})()},{path:"manage-banners",component:(()=>{class e{constructor(e,t){this.fb=e,this.bannerService=t,this.banners=[],this.loading=!1,this.updating=!1,this.editBannerForm=e.group({name:new s.c(null,[s.k.required])})}ngOnInit(){this.bannerService.getAllBanners().then(e=>this.banners=e),this.editBannerForm.disable()}selectBanner(e){this.resetForm(),this.selectedBanner=e,this.editBannerForm.patchValue({name:e.name}),this.photo=e.imageUrl,this.editBannerForm.enable()}readUrl(e){this.loading=!0,setTimeout(()=>{if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{this.photo=e.target.result},t.readAsDataURL(e.target.files[0])}this.loading=!1},500)}editBanner(){return Object(d.a)(this,void 0,void 0,(function*(){this.updating=!0,this.selectedBanner.name=this.editBannerForm.value.name,this.selectedBanner.imageUrl!==this.photo&&(this.selectedBanner.imageUrl=this.photo.toString()),yield this.bannerService.editBanner(this.selectedBanner).then(()=>{l.a.notify('<span uk-icon="icon: check"></span> Banner edited successfully',"success")}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Banner could not be edited',"danger")}),this.updating=!1}))}deleteBanner(){return Object(d.a)(this,void 0,void 0,(function*(){this.updating=!0,yield this.bannerService.deleteBanner(this.selectedBanner._id).then(e=>{l.a.notify('<span uk-icon="icon: check"></span> Banner deleted successfully',"success"),this.banners=this.banners.filter(t=>t._id!==e),this.resetForm()}).catch(e=>{console.log(e),l.a.notify('<span uk-icon="icon: warning"></span> Banner could not be deleted',"danger")}),this.updating=!1}))}resetForm(){document.getElementById("form").reset(),this.selectedBanner=void 0,this.photo=null,this.editBannerForm.disable()}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.b),a.Kb(j.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-manage-banners"]],decls:25,vars:11,consts:[["uk-grid","",1,"manage-banner-container","uk-grid","uk-grid-medium"],["uk-grid","",1,"uk-width-3-5@m","uk-grid","uk-grid-medium"],[1,"list-banner-container","uk-width-1-3@s"],[1,"uk-list","uk-list-striped"],["class","banner-item",3,"click",4,"ngFor","ngForOf"],[1,"edit-banner-container","uk-width-2-3@s"],["id","form",1,"add-banner-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"disabled","change"],["type","text","placeholder","Edit image",1,"uk-input",3,"disabled"],[1,"uk-flex","uk-flex-center","uk-margin-small","uk-child-width-1-2"],[3,"type","disabled","pressed",4,"ngIf"],[3,"loading",4,"ngIf"],[1,"preview-banner-container","uk-width-2-5@m"],[3,"product","loading"],[1,"banner-item",3,"click"],["uk-icon","icon: pencil",1,"uk-align-right","edit-banner"],[3,"type","disabled","pressed"],[3,"loading"]],template:function(e,t){1&e&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Nb(3,"h3"),a.kc(4,"Banners"),a.Mb(),a.Nb(5,"ul",3),a.jc(6,_,3,1,"li",4),a.Mb(),a.Mb(),a.Nb(7,"div",5),a.Nb(8,"h3"),a.kc(9,"Edit"),a.Mb(),a.Nb(10,"form",6),a.Nb(11,"div",7),a.Lb(12,"input",8),a.Mb(),a.Nb(13,"div",9),a.Nb(14,"div",10),a.Nb(15,"input",11),a.Vb("change",(function(e){return t.readUrl(e)})),a.Mb(),a.Lb(16,"input",12),a.Mb(),a.Mb(),a.Nb(17,"div",13),a.jc(18,S,2,2,"app-button",14),a.jc(19,E,2,2,"app-button",14),a.jc(20,V,1,1,"app-button",15),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(21,"div",16),a.Nb(22,"h3"),a.kc(23,"Preview"),a.Mb(),a.Lb(24,"app-preview-image",17),a.Mb(),a.Mb()),2&e&&(a.zb(6),a.ac("ngForOf",t.banners),a.zb(4),a.ac("formGroup",t.editBannerForm),a.zb(5),a.ac("disabled",!t.selectedBanner),a.zb(1),a.ac("disabled",!t.selectedBanner),a.zb(2),a.ac("ngIf",!t.updating),a.zb(1),a.ac("ngIf",!t.updating),a.zb(1),a.ac("ngIf",t.updating),a.zb(4),a.ac("product",a.cc(9,A,t.photo))("loading",t.loading))},directives:[p.i,s.l,s.h,s.e,s.a,s.g,s.d,p.j,w,f],styles:[".banner-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d7d7d7}.edit-banner[_ngcontent-%COMP%]:hover{color:#1e87f0;cursor:pointer}.banner[_ngcontent-%COMP%]{padding:0;position:relative;display:flex;justify-content:center;overflow:hidden}.loading-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90px}"]}),e})()}]}];let G=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(X)],i.f]}),e})();var D=n("PCNd");let K=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[D.a,G]]}),e})()}}]);