function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return ee}));var i,a,r,o=n("tyNb"),c=n("fXoL"),d=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Eb({type:r,selectors:[["app-sidenav"]],decls:15,vars:0,consts:[[1,"sidenav-container","uk-card","uk-card-default","uk-card-body","uk-width-1-2@s"],["uk-nav","",1,"top-nav","uk-nav-default","uk-nav-parent-icon"],["routerLinkActive","uk-active"],["routerLink","/dashboard/add-product"],["routerLink","/dashboard/manage-products"],[1,"uk-nav-divider",2,"margin","20px 0"],["routerLink","/dashboard/add-banner"],["routerLink","/dashboard/manage-banners"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Nb(1,"ul",1),c.Nb(2,"li",2),c.Nb(3,"a",3),c.kc(4,"Add Product"),c.Mb(),c.Mb(),c.Nb(5,"li",2),c.Nb(6,"a",4),c.kc(7,"Manage Products"),c.Mb(),c.Mb(),c.Lb(8,"li",5),c.Nb(9,"li",2),c.Nb(10,"a",6),c.kc(11,"Add Banner"),c.Mb(),c.Mb(),c.Nb(12,"li",2),c.Nb(13,"a",7),c.kc(14,"Manage Banners"),c.Mb(),c.Mb(),c.Mb(),c.Mb())},directives:[o.d,o.e],styles:[".sidenav-container[_ngcontent-%COMP%]{width:15vw;height:100%;background-color:#fff}"]}),r),u=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=c.Eb({type:a,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"dashboard-container","uk-margin-large-top"],[1,"desktop"],[1,"dashboard-body-container"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Lb(1,"app-sidenav",1),c.Nb(2,"div",2),c.Lb(3,"router-outlet"),c.Mb(),c.Mb())},directives:[d,o.g],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:calc(100vh - 80px)}.dashboard-body-container[_ngcontent-%COMP%]{flex-grow:1;padding:40px;max-height:calc(100vh - 80px);overflow:auto}.desktop[_ngcontent-%COMP%]{display:block}@media only screen and (max-width:640px){.desktop[_ngcontent-%COMP%]{display:none}}"]}),a),s=((i=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"canActivate",value:function(e,t){return!!localStorage.getItem("currentUser")||(this.router.navigate(["/admin"],{queryParams:{returnUrl:t.url}}),!1)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.Rb(o.c))},i.\u0275prov=c.Gb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),l=n("mrSG"),b=n("3Pt+"),p=n("bE4C"),g=n("DD2m"),f=n("mB2O"),h=n("ofXK");function m(e,t){1&e&&c.Yb(0,0,["*ngIf","!loading"])}function k(e,t){1&e&&c.Lb(0,"img",3)}var v,y=["*"],w=((v=function(){function e(){_classCallCheck(this,e),this.pressed=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.pressed.emit()}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=c.Eb({type:v,selectors:[["app-button"]],inputs:{type:"type",disabled:"disabled",loading:"loading"},outputs:{pressed:"pressed"},ngContentSelectors:y,decls:3,vars:6,consts:[[3,"disabled","click"],[4,"ngIf"],["class","creating-loader","src","./assets/images/loading.svg","alt","",4,"ngIf"],["src","./assets/images/loading.svg","alt","",1,"creating-loader"]],template:function(e,t){1&e&&(c.Zb(),c.Nb(0,"button",0),c.Vb("click",(function(){return t.onClick()})),c.jc(1,m,1,0,void 0,1),c.jc(2,k,1,0,"img",2),c.Mb()),2&e&&(c.Bb("uk-button uk-button-",t.type," uk-width-1-1 uk-margin-small"),c.ac("disabled",t.disabled||t.loading),c.zb(1),c.ac("ngIf",!t.loading),c.zb(1),c.ac("ngIf",t.loading))},directives:[h.j],styles:[".creating-loader[_ngcontent-%COMP%]{width:30px}"]}),v);function M(e,t){if(1&e&&c.Lb(0,"img",5),2&e){var n=c.Xb();c.bc("src",null==n.product?null:n.product.imageUrl,c.hc),c.bc("alt",null==n.product?null:n.product.name)}}function N(e,t){1&e&&c.Lb(0,"img",6)}function P(e,t){1&e&&c.Lb(0,"img",7)}function C(e,t){if(1&e&&(c.Nb(0,"div",8),c.Nb(1,"div",9),c.Nb(2,"h3"),c.kc(3),c.Mb(),c.Mb(),c.Mb()),2&e){var n=c.Xb();c.zb(3),c.lc(null==n.product?null:n.product.name)}}var x,F,B=((x=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=c.Eb({type:x,selectors:[["app-preview-image"]],inputs:{product:"product",loading:"loading"},decls:5,vars:4,consts:[[1,"product","uk-card","uk-card-default","uk-card-body"],["class","image",3,"src","alt",4,"ngIf"],["class","image","src","./assets/images/noImageAvailable.png","alt","No image available",4,"ngIf"],["class","loading-image image","src","./assets/images/loading.svg","alt","Loading image",4,"ngIf"],["class","information",4,"ngIf"],[1,"image",3,"src","alt"],["src","./assets/images/noImageAvailable.png","alt","No image available",1,"image"],["src","./assets/images/loading.svg","alt","Loading image",1,"loading-image","image"],[1,"information"],[1,"name"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.jc(1,M,1,2,"img",1),c.jc(2,N,1,0,"img",2),c.jc(3,P,1,0,"img",3),c.jc(4,C,4,1,"div",4),c.Mb()),2&e&&(c.zb(1),c.ac("ngIf",null==t.product?null:t.product.imageUrl),c.zb(1),c.ac("ngIf",!(null!=t.product&&t.product.imageUrl)),c.zb(1),c.ac("ngIf",t.loading),c.zb(1),c.ac("ngIf",null==t.product?null:t.product.name))},directives:[h.j],styles:[".product[_ngcontent-%COMP%]{padding:0;position:relative;display:flex;justify-content:center;overflow:hidden;align-items:flex-start}.product[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.information[_ngcontent-%COMP%]{position:absolute;bottom:5%;left:0;background:#acacac;padding:4px 15px 4px 30px;color:#fff;margin:0;font:14px Sans-Serif}.name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:chunkfive,serif;font-size:1.4rem;font-weight:600;margin:0 0 4px}.loading-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px}"]}),x),_=function(e,t){return{name:e,imageUrl:t}},O=((F=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.productService=n,this.loading=!1,this.creating=!1,this.isFeatured=!1,this.addProductForm=t.group({name:new b.c(null,[b.k.required])})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"checkboxChanged",value:function(){this.isFeatured=!this.isFeatured}},{key:"readUrl",value:function(e){var t=this;this.loading=!0,setTimeout((function(){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.photo=e.target.result},n.readAsDataURL(e.target.files[0])}t.loading=!1}),500)}},{key:"createProduct",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.creating=!0,t=this.addProductForm.value.name,n=this.photo.toString(),i=new p.a(t,n,this.isFeatured),e.next=4,this.productService.createProduct(i).then((function(){g.a.notify('<span uk-icon="icon: check"></span> Product created successfully',"success"),a.resetForm()})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Product could not be created',"danger")}));case 4:this.creating=!1;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"resetForm",value:function(){document.getElementById("form").reset(),this.photo=null,this.isFeatured=!1}}]),e}()).\u0275fac=function(e){return new(e||F)(c.Kb(b.b),c.Kb(f.a))},F.\u0275cmp=c.Eb({type:F,selectors:[["app-add-product"]],decls:22,vars:10,consts:[[1,"add-product-container"],["uk-grid","",1,"uk-grid","uk-grid-large"],[1,"new-product-container","uk-width-1-2@s"],["id","form",1,"add-product-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin","uk-flex","uk-flex-between"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file","id","fileInput",3,"change"],["type","text","placeholder","Select image","disabled","",1,"uk-input"],["type","checkbox",1,"uk-checkbox","featured-checkbox",3,"checked","change"],[3,"type","disabled","loading","pressed"],[1,"preview-product-container","uk-width-1-2@s"],[3,"product","loading"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"h3"),c.kc(4,"Add new product"),c.Mb(),c.Nb(5,"form",3),c.Nb(6,"div",4),c.Lb(7,"input",5),c.Mb(),c.Nb(8,"div",6),c.Nb(9,"div",7),c.Nb(10,"input",8),c.Vb("change",(function(e){return t.readUrl(e)})),c.Mb(),c.Lb(11,"input",9),c.Mb(),c.Nb(12,"div"),c.Nb(13,"label"),c.kc(14," Featured "),c.Nb(15,"input",10),c.Vb("change",(function(){return t.checkboxChanged()})),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(16,"app-button",11),c.Vb("pressed",(function(){return t.createProduct()})),c.kc(17," Create "),c.Mb(),c.Mb(),c.Mb(),c.Nb(18,"div",12),c.Nb(19,"h3"),c.kc(20,"Preview"),c.Mb(),c.Lb(21,"app-preview-image",13),c.Mb(),c.Mb(),c.Mb()),2&e&&(c.zb(5),c.ac("formGroup",t.addProductForm),c.zb(10),c.ac("checked",t.isFeatured),c.zb(1),c.ac("type","primary")("disabled",t.addProductForm.invalid||!t.photo)("loading",t.creating),c.zb(5),c.ac("product",c.dc(7,_,t.addProductForm.value.name,t.photo))("loading",t.loading))},directives:[b.l,b.h,b.e,b.a,b.g,b.d,w,B],styles:[".featured-checkbox[_ngcontent-%COMP%]{width:40px;height:40px}"]}),F);function I(e,t){1&e&&c.Lb(0,"span",22)}function L(e,t){if(1&e){var n=c.Ob();c.Nb(0,"li",19),c.Vb("click",(function(){c.gc(n);var e=t.$implicit;return c.Xb().selectProduct(e)})),c.kc(1),c.jc(2,I,1,0,"span",20),c.Lb(3,"span",21),c.Mb()}if(2&e){var i=t.$implicit;c.zb(1),c.mc(" ",i.name," "),c.zb(1),c.ac("ngIf",i.featured)}}function z(e,t){if(1&e){var n=c.Ob();c.Nb(0,"app-button",23),c.Vb("pressed",(function(){return c.gc(n),c.Xb().editProduct()})),c.kc(1," Update "),c.Mb()}if(2&e){var i=c.Xb();c.ac("type","primary")("disabled",i.editProductForm.invalid||!i.selectedProduct)}}function j(e,t){if(1&e){var n=c.Ob();c.Nb(0,"app-button",23),c.Vb("pressed",(function(){return c.gc(n),c.Xb().deleteProduct()})),c.kc(1," Delete "),c.Mb()}if(2&e){var i=c.Xb();c.ac("type","danger")("disabled",!i.selectedProduct)}}function U(e,t){if(1&e&&c.Lb(0,"app-button",24),2&e){var n=c.Xb();c.ac("loading",n.updating)}}var S,R=function(e,t){return{name:e,imageUrl:t}},E=((S=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.productService=n,this.products=[],this.loading=!1,this.updating=!1,this.editProductForm=t.group({name:new b.c(null,[b.k.required])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.productService.getAllProducts().then((function(t){return e.products=t})),this.editProductForm.disable()}},{key:"selectProduct",value:function(e){this.selectedProduct=e,this.editProductForm.patchValue({name:e.name}),this.photo=e.imageUrl,this.editProductForm.enable()}},{key:"readUrl",value:function(e){var t=this;this.loading=!0,setTimeout((function(){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.photo=e.target.result},n.readAsDataURL(e.target.files[0])}t.loading=!1}),500)}},{key:"editProduct",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updating=!0,this.selectedProduct.name=this.editProductForm.value.name,this.selectedProduct.imageUrl!==this.photo&&(this.selectedProduct.imageUrl=this.photo.toString()),e.next=5,this.productService.editProduct(this.selectedProduct).then((function(){t.resetForm(),g.a.notify('<span uk-icon="icon: check"></span> Product edited successfully',"success")})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Product could not be edited',"danger")}));case 5:this.updating=!1;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"deleteProduct",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updating=!0,e.next=3,this.productService.deleteProduct(this.selectedProduct._id).then((function(e){g.a.notify('<span uk-icon="icon: check"></span> Product deleted successfully',"success"),t.products=t.products.filter((function(t){return t._id!==e})),t.resetForm()})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Product could not be deleted',"danger")}));case 3:this.updating=!1;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resetForm",value:function(){document.getElementById("form").reset(),this.selectedProduct=void 0,this.photo=null,this.editProductForm.disable()}},{key:"checkboxChanged",value:function(){this.selectedProduct.featured=!this.selectedProduct.featured}}]),e}()).\u0275fac=function(e){return new(e||S)(c.Kb(b.b),c.Kb(f.a))},S.\u0275cmp=c.Eb({type:S,selectors:[["app-manage-products"]],decls:29,vars:14,consts:[["uk-grid","",1,"manage-product-container","uk-grid","uk-grid-medium"],["uk-grid","",1,"uk-width-3-5@m","uk-grid","uk-grid-medium"],[1,"list-product-container","uk-width-1-3@s"],[1,"uk-list","uk-list-striped"],["class","product-item",3,"click",4,"ngFor","ngForOf"],[1,"edit-product-container","uk-width-2-3@s"],["id","form",1,"add-product-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin","uk-flex","uk-flex-between"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"disabled","change"],["type","text","placeholder","Edit image",1,"uk-input",3,"disabled"],["type","checkbox",1,"uk-checkbox","featured-checkbox",3,"checked","disabled","change"],[1,"uk-flex","uk-flex-center","uk-margin-small","uk-child-width-1-2"],[3,"type","disabled","pressed",4,"ngIf"],[3,"loading",4,"ngIf"],[1,"preview-product-container","uk-width-2-5@m"],[3,"product","loading"],[1,"product-item",3,"click"],["uk-icon","icon: star; ratio: 0.7",4,"ngIf"],["uk-icon","icon: pencil",1,"uk-align-right","edit-product"],["uk-icon","icon: star; ratio: 0.7"],[3,"type","disabled","pressed"],[3,"loading"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"h3"),c.kc(4,"Products"),c.Mb(),c.Nb(5,"ul",3),c.jc(6,L,4,2,"li",4),c.Mb(),c.Mb(),c.Nb(7,"div",5),c.Nb(8,"h3"),c.kc(9,"Edit"),c.Mb(),c.Nb(10,"form",6),c.Nb(11,"div",7),c.Lb(12,"input",8),c.Mb(),c.Nb(13,"div",9),c.Nb(14,"div",10),c.Nb(15,"input",11),c.Vb("change",(function(e){return t.readUrl(e)})),c.Mb(),c.Lb(16,"input",12),c.Mb(),c.Nb(17,"div"),c.Nb(18,"label"),c.kc(19," Featured "),c.Nb(20,"input",13),c.Vb("change",(function(){return t.checkboxChanged()})),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(21,"div",14),c.jc(22,z,2,2,"app-button",15),c.jc(23,j,2,2,"app-button",15),c.jc(24,U,1,1,"app-button",16),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(25,"div",17),c.Nb(26,"h3"),c.kc(27,"Preview"),c.Mb(),c.Lb(28,"app-preview-image",18),c.Mb(),c.Mb()),2&e&&(c.zb(6),c.ac("ngForOf",t.products),c.zb(4),c.ac("formGroup",t.editProductForm),c.zb(5),c.ac("disabled",!t.selectedProduct),c.zb(1),c.ac("disabled",!t.selectedProduct),c.zb(4),c.ac("checked",null==t.selectedProduct?null:t.selectedProduct.featured)("disabled",!t.selectedProduct),c.zb(2),c.ac("ngIf",!t.updating),c.zb(1),c.ac("ngIf",!t.updating),c.zb(1),c.ac("ngIf",t.updating),c.zb(4),c.ac("product",c.dc(11,R,t.editProductForm.value.name,t.photo))("loading",t.loading))},directives:[h.i,b.l,b.h,b.e,b.a,b.g,b.d,h.j,B,w],styles:[".product-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d7d7d7}.edit-product[_ngcontent-%COMP%]:hover{color:#1e87f0;cursor:pointer}.featured-checkbox[_ngcontent-%COMP%]{width:40px;height:40px}"]}),S),V=n("xC8M"),A=n("BvJE"),X=function(e){return{name:"",imageUrl:e}};function G(e,t){if(1&e){var n=c.Ob();c.Nb(0,"li",18),c.Vb("click",(function(){c.gc(n);var e=t.$implicit;return c.Xb().selectBanner(e)})),c.kc(1),c.Lb(2,"span",19),c.Mb()}if(2&e){var i=t.$implicit;c.zb(1),c.mc(" ",i.name," ")}}function D(e,t){if(1&e){var n=c.Ob();c.Nb(0,"app-button",20),c.Vb("pressed",(function(){return c.gc(n),c.Xb().editBanner()})),c.kc(1," Update "),c.Mb()}if(2&e){var i=c.Xb();c.ac("type","primary")("disabled",i.editBannerForm.invalid||!i.selectedBanner)}}function K(e,t){if(1&e){var n=c.Ob();c.Nb(0,"app-button",20),c.Vb("pressed",(function(){return c.gc(n),c.Xb().deleteBanner()})),c.kc(1," Delete "),c.Mb()}if(2&e){var i=c.Xb();c.ac("type","danger")("disabled",!i.selectedBanner)}}function T(e,t){if(1&e&&c.Lb(0,"app-button",21),2&e){var n=c.Xb();c.ac("loading",n.updating)}}var q,$,J,H,Y=function(e){return{name:"",imageUrl:e}},Z=[{path:"",component:u,canActivate:[s],children:[{path:"",redirectTo:"add-product",pathMatch:"full"},{path:"add-product",component:O},{path:"manage-products",component:E},{path:"add-banner",component:($=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.bannerService=n,this.loading=!1,this.creating=!1,this.addBannerForm=t.group({name:new b.c(null,[b.k.required])})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"readUrl",value:function(e){var t=this;this.loading=!0,setTimeout((function(){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.photo=e.target.result},n.readAsDataURL(e.target.files[0])}t.loading=!1}),500)}},{key:"createBanner",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.creating=!0,t=this.addBannerForm.value.name,n=this.photo.toString(),i=new V.a(t,n),e.next=4,this.bannerService.createBanner(i).then((function(){g.a.notify('<span uk-icon="icon: check"></span> Banner created successfully',"success"),a.resetForm()})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Banner could not be created',"danger")}));case 4:this.creating=!1;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"resetForm",value:function(){document.getElementById("form").reset(),this.photo=null}}]),e}(),$.\u0275fac=function(e){return new(e||$)(c.Kb(b.b),c.Kb(A.a))},$.\u0275cmp=c.Eb({type:$,selectors:[["app-add-banner"]],decls:18,vars:8,consts:[[1,"add-banner-container"],["uk-grid","",1,"uk-grid","uk-grid-large"],[1,"new-banner-container","uk-width-1-2@s"],["id","form",1,"add-banner-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"change"],["type","text","placeholder","Select image","disabled","",1,"uk-input"],[3,"type","disabled","loading","pressed"],[1,"preview-banner-container","uk-width-1-2@s"],[3,"product","loading"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"h3"),c.kc(4,"Add new banner"),c.Mb(),c.Nb(5,"form",3),c.Nb(6,"div",4),c.Lb(7,"input",5),c.Mb(),c.Nb(8,"div",6),c.Nb(9,"div",7),c.Nb(10,"input",8),c.Vb("change",(function(e){return t.readUrl(e)})),c.Mb(),c.Lb(11,"input",9),c.Mb(),c.Mb(),c.Nb(12,"app-button",10),c.Vb("pressed",(function(){return t.createBanner()})),c.kc(13," Create "),c.Mb(),c.Mb(),c.Mb(),c.Nb(14,"div",11),c.Nb(15,"h3"),c.kc(16,"Preview"),c.Mb(),c.Lb(17,"app-preview-image",12),c.Mb(),c.Mb(),c.Mb()),2&e&&(c.zb(5),c.ac("formGroup",t.addBannerForm),c.zb(7),c.ac("type","primary")("disabled",t.addBannerForm.invalid||!t.photo)("loading",t.creating),c.zb(5),c.ac("product",c.cc(6,X,t.photo))("loading",t.loading))},directives:[b.l,b.h,b.e,b.a,b.g,b.d,w,B],styles:[""]}),$)},{path:"manage-banners",component:(q=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.bannerService=n,this.banners=[],this.loading=!1,this.updating=!1,this.editBannerForm=t.group({name:new b.c(null,[b.k.required])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.bannerService.getAllBanners().then((function(t){return e.banners=t})),this.editBannerForm.disable()}},{key:"selectBanner",value:function(e){this.resetForm(),this.selectedBanner=e,this.editBannerForm.patchValue({name:e.name}),this.photo=e.imageUrl,this.editBannerForm.enable()}},{key:"readUrl",value:function(e){var t=this;this.loading=!0,setTimeout((function(){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.photo=e.target.result},n.readAsDataURL(e.target.files[0])}t.loading=!1}),500)}},{key:"editBanner",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updating=!0,this.selectedBanner.name=this.editBannerForm.value.name,this.selectedBanner.imageUrl!==this.photo&&(this.selectedBanner.imageUrl=this.photo.toString()),e.next=5,this.bannerService.editBanner(this.selectedBanner).then((function(){g.a.notify('<span uk-icon="icon: check"></span> Banner edited successfully',"success")})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Banner could not be edited',"danger")}));case 5:this.updating=!1;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"deleteBanner",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updating=!0,e.next=3,this.bannerService.deleteBanner(this.selectedBanner._id).then((function(e){g.a.notify('<span uk-icon="icon: check"></span> Banner deleted successfully',"success"),t.banners=t.banners.filter((function(t){return t._id!==e})),t.resetForm()})).catch((function(e){console.log(e),g.a.notify('<span uk-icon="icon: warning"></span> Banner could not be deleted',"danger")}));case 3:this.updating=!1;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resetForm",value:function(){document.getElementById("form").reset(),this.selectedBanner=void 0,this.photo=null,this.editBannerForm.disable()}}]),e}(),q.\u0275fac=function(e){return new(e||q)(c.Kb(b.b),c.Kb(A.a))},q.\u0275cmp=c.Eb({type:q,selectors:[["app-manage-banners"]],decls:25,vars:11,consts:[["uk-grid","",1,"manage-banner-container","uk-grid","uk-grid-medium"],["uk-grid","",1,"uk-width-3-5@m","uk-grid","uk-grid-medium"],[1,"list-banner-container","uk-width-1-3@s"],[1,"uk-list","uk-list-striped"],["class","banner-item",3,"click",4,"ngFor","ngForOf"],[1,"edit-banner-container","uk-width-2-3@s"],["id","form",1,"add-banner-form",3,"formGroup"],[1,"uk-margin"],["type","text","formControlName","name","placeholder","Name","autocomplete","off",1,"uk-input","uk-form-width-medium","uk-form-large","uk-width-1-1"],["uk-margin","",1,"uk-margin"],["uk-form-custom","target: true",1,"uk-width-1-2"],["type","file",3,"disabled","change"],["type","text","placeholder","Edit image",1,"uk-input",3,"disabled"],[1,"uk-flex","uk-flex-center","uk-margin-small","uk-child-width-1-2"],[3,"type","disabled","pressed",4,"ngIf"],[3,"loading",4,"ngIf"],[1,"preview-banner-container","uk-width-2-5@m"],[3,"product","loading"],[1,"banner-item",3,"click"],["uk-icon","icon: pencil",1,"uk-align-right","edit-banner"],[3,"type","disabled","pressed"],[3,"loading"]],template:function(e,t){1&e&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"h3"),c.kc(4,"Banners"),c.Mb(),c.Nb(5,"ul",3),c.jc(6,G,3,1,"li",4),c.Mb(),c.Mb(),c.Nb(7,"div",5),c.Nb(8,"h3"),c.kc(9,"Edit"),c.Mb(),c.Nb(10,"form",6),c.Nb(11,"div",7),c.Lb(12,"input",8),c.Mb(),c.Nb(13,"div",9),c.Nb(14,"div",10),c.Nb(15,"input",11),c.Vb("change",(function(e){return t.readUrl(e)})),c.Mb(),c.Lb(16,"input",12),c.Mb(),c.Mb(),c.Nb(17,"div",13),c.jc(18,D,2,2,"app-button",14),c.jc(19,K,2,2,"app-button",14),c.jc(20,T,1,1,"app-button",15),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(21,"div",16),c.Nb(22,"h3"),c.kc(23,"Preview"),c.Mb(),c.Lb(24,"app-preview-image",17),c.Mb(),c.Mb()),2&e&&(c.zb(6),c.ac("ngForOf",t.banners),c.zb(4),c.ac("formGroup",t.editBannerForm),c.zb(5),c.ac("disabled",!t.selectedBanner),c.zb(1),c.ac("disabled",!t.selectedBanner),c.zb(2),c.ac("ngIf",!t.updating),c.zb(1),c.ac("ngIf",!t.updating),c.zb(1),c.ac("ngIf",t.updating),c.zb(4),c.ac("product",c.cc(9,Y,t.photo))("loading",t.loading))},directives:[h.i,b.l,b.h,b.e,b.a,b.g,b.d,h.j,B,w],styles:[".banner-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d7d7d7}.edit-banner[_ngcontent-%COMP%]:hover{color:#1e87f0;cursor:pointer}.banner[_ngcontent-%COMP%]{padding:0;position:relative;display:flex;justify-content:center;overflow:hidden}.loading-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90px}"]}),q)}]}],Q=((J=function e(){_classCallCheck(this,e)}).\u0275mod=c.Ib({type:J}),J.\u0275inj=c.Hb({factory:function(e){return new(e||J)},imports:[[o.f.forChild(Z)],o.f]}),J),W=n("PCNd"),ee=((H=function e(){_classCallCheck(this,e)}).\u0275mod=c.Ib({type:H}),H.\u0275inj=c.Hb({factory:function(e){return new(e||H)},imports:[[W.a,Q]]}),H)}}]);